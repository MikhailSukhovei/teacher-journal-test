---
layout: base
---
<section class="content-block">
  <h2>{{ page.title }}</h2>
  {% assign ordered_news = site.news | sort: 'order' %}
  {% assign page_news = ordered_news | slice: page.offset, 10 %}
  {% for news in page_news %}
    <article class="news-item">
      <div>
        <h3><a href="{{ news.url | relative_url }}">{{ news.title }}</a></h3>
        {% if news.excerpt_text %}<p>{{ news.excerpt_text }}</p>{% endif %}
      </div>
      {% if news.image %}
      <div>
        <img src="{{ news.image | relative_url }}" alt="{{ news.title }}">
      </div>
      {% endif %}
    </article>
  {% endfor %}

  {% if page.total_pages > 1 %}
  <nav class="pagination">
    {% if page.prev_url %}<a href="{{ page.prev_url | relative_url }}">Назад</a>{% endif %}
    {% for page_number in (1..page.total_pages) %}
      {% if page_number == page.current_page %}
        <span class="active">{{ page_number }}</span>
      {% elsif page_number == 1 %}
        <a href="{{ '/news/' | relative_url }}">{{ page_number }}</a>
      {% else %}
        <a href="{{ '/news/page/' | append: page_number | append: '/' | relative_url }}">{{ page_number }}</a>
      {% endif %}
    {% endfor %}
    {% if page.next_url %}<a href="{{ page.next_url | relative_url }}">Вперед</a>{% endif %}
  </nav>
  {% endif %}
</section>
